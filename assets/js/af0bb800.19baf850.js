"use strict";(self.webpackChunkliangzai_for_hire=self.webpackChunkliangzai_for_hire||[]).push([[934],{5680:(e,n,a)=>{a.d(n,{xA:()=>p,yg:()=>g});var t=a(6540);function r(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function i(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function l(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?i(Object(a),!0).forEach((function(n){r(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function s(e,n){if(null==e)return{};var a,t,r=function(e,n){if(null==e)return{};var a,t,r={},i=Object.keys(e);for(t=0;t<i.length;t++)a=i[t],n.indexOf(a)>=0||(r[a]=e[a]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)a=i[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var o=t.createContext({}),c=function(e){var n=t.useContext(o),a=n;return e&&(a="function"==typeof e?e(n):l(l({},n),e)),a},p=function(e){var n=c(e.components);return t.createElement(o.Provider,{value:n},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},u=t.forwardRef((function(e,n){var a=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=c(a),u=r,g=d["".concat(o,".").concat(u)]||d[u]||m[u]||i;return a?t.createElement(g,l(l({ref:n},p),{},{components:a})):t.createElement(g,l({ref:n},p))}));function g(e,n){var a=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=a.length,l=new Array(i);l[0]=u;var s={};for(var o in n)hasOwnProperty.call(n,o)&&(s[o]=n[o]);s.originalType=e,s[d]="string"==typeof e?e:r,l[1]=s;for(var c=2;c<i;c++)l[c]=a[c];return t.createElement.apply(null,l)}return t.createElement.apply(null,a)}u.displayName="MDXCreateElement"},3620:(e,n,a)=>{a.r(n),a.d(n,{contentTitle:()=>l,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>o});var t=a(8168),r=(a(6540),a(5680));const i={sidebar_position:10,sidebar_label:"Index Management"},l="Index Management",s={unversionedId:"Backend/Database/Elastic Search/chapter-10",id:"Backend/Database/Elastic Search/chapter-10",title:"Index Management",description:"Basic stuff",source:"@site/docs/Backend/Database/Elastic Search/chapter-10.md",sourceDirName:"Backend/Database/Elastic Search",slug:"/Backend/Database/Elastic Search/chapter-10",permalink:"/docs/Backend/Database/Elastic Search/chapter-10",tags:[],version:"current",sidebarPosition:10,frontMatter:{sidebar_position:10,sidebar_label:"Index Management"},sidebar:"docs",previous:{title:"Distributed Search Execution",permalink:"/docs/Backend/Database/Elastic Search/chapter-9"},next:{title:"questions",permalink:"/docs/Backend/Database/Elastic Search/questions"}},o=[{value:"Basic stuff",id:"basic-stuff",children:[{value:"Creating Index",id:"creating-index",children:[],level:3},{value:"Deleting Index",id:"deleting-index",children:[],level:3},{value:"Settings",id:"settings",children:[],level:3}],level:2},{value:"Configuring Analyzers / Custom Analyzers",id:"configuring-analyzers--custom-analyzers",children:[],level:2},{value:"Types and Mappings",id:"types-and-mappings",children:[{value:"How Lucene sees Doucments",id:"how-lucene-sees-doucments",children:[],level:3},{value:"How types are implemented",id:"how-types-are-implemented",children:[],level:3}],level:2}],c={toc:o},p="wrapper";function d(e){let{components:n,...a}=e;return(0,r.yg)(p,(0,t.A)({},c,a,{components:n,mdxType:"MDXLayout"}),(0,r.yg)("h1",{id:"index-management"},"Index Management"),(0,r.yg)("h2",{id:"basic-stuff"},"Basic stuff"),(0,r.yg)("h3",{id:"creating-index"},"Creating Index"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-json"},'{\n    "settings": { ...settings },\n    "mappings": {\n        "type_one": { ...any mappings ...},\n        "type_two": { ...any mappings ...},\n        ...\n    },\n}\n')),(0,r.yg)("h3",{id:"deleting-index"},"Deleting Index"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-json"},"DELETE /my_index\nDELETE /index_one,index_two\nDELETE /index_*\n\n")),(0,r.yg)("h3",{id:"settings"},"Settings"),(0,r.yg)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.yg)("div",{parentName:"div",className:"admonition-heading"},(0,r.yg)("h5",{parentName:"div"},(0,r.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,r.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.yg)("div",{parentName:"div",className:"admonition-content"},(0,r.yg)("p",{parentName:"div"},"Don't modify ES defaults unless you know what you are doing"))),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"number_of_shards"),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"Number of primary shards an indexG should have"),(0,r.yg)("li",{parentName:"ul"},"default 5"),(0,r.yg)("li",{parentName:"ul"},"cannot be changed after indxe creation"))),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"number_of_replicas"),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"Number of replica shards each primary shard should have"),(0,r.yg)("li",{parentName:"ul"},"default 1"),(0,r.yg)("li",{parentName:"ul"},"Can be changed at any time")))),(0,r.yg)("h2",{id:"configuring-analyzers--custom-analyzers"},"Configuring Analyzers / Custom Analyzers"),(0,r.yg)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.yg)("div",{parentName:"div",className:"admonition-heading"},(0,r.yg)("h5",{parentName:"div"},(0,r.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,r.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.yg)("div",{parentName:"div",className:"admonition-content"},(0,r.yg)("p",{parentName:"div"},"Skipped for now"))),(0,r.yg)("h2",{id:"types-and-mappings"},"Types and Mappings"),(0,r.yg)("h3",{id:"how-lucene-sees-doucments"},"How Lucene sees Doucments"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Simple list of field-value pairs"),(0,r.yg)("li",{parentName:"ul"},"Field",(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"At least one value"),(0,r.yg)("li",{parentName:"ul"},"Can have multiple values"))),(0,r.yg)("li",{parentName:"ul"},"All values treated as ",(0,r.yg)("strong",{parentName:"li"},"opaque bytes")," (converted to bytes)")),(0,r.yg)("h3",{id:"how-types-are-implemented"},"How types are implemented"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Store the type name of each document in ",(0,r.yg)("inlineCode",{parentName:"li"},"_type")),(0,r.yg)("li",{parentName:"ul"},"Filter using this field"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("em",{parentName:"li"},"Mapping")," is handled by ES",(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"Lucene has no concept of 'mapping'")))))}d.isMDXComponent=!0}}]);